!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["deferred-di"]=e():t["deferred-di"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t,e){return t.map(function(t){if(e[t])return e[t];throw Error(t+" cannot be resolved")})}function r(t){var e=[],n=function(n){var r={key:n,promise:null,value:null};r.promise=t[n].then(function(t){return r.value=t}),e.push(r)};for(var r in t)n(r);return Promise.all(e.map(function(t){return t.promise})).then(function(){var t={};return e.forEach(function(e){return t[e.key]=e.value}),t})}function o(t,e){if(0===t.length)return Promise.resolve([]);try{return Promise.all(n(t,e))}catch(r){return Promise.reject(r.message)}}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t),n=function(t){return t(e)};return n.then=function(t,n){return r(e).then(t,n)},n.catch=function(t){return r(e).catch(t)},n}function i(t){return"string"==typeof t?t.split(",").map(function(t){return t.trim()}).filter(function(t){return!!t}):"object"===(void 0===t?"undefined":f(t))&&t instanceof Array?t:[]}function c(t,e,n){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o(f,e);return c.logger&&r.catch(function(t){return c.logger.error(t)}),e[t]=r.then(function(t){return n.apply(null,t)}),u(e)}var f=void 0;return"function"==typeof e?(n=e,f=i(n.$inject)):f=i(e),r}Object.defineProperty(e,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};c.inject=c.getInjector=u,c.logger=null,e.default=c}])});
//# sourceMappingURL=deferred-di.js.map